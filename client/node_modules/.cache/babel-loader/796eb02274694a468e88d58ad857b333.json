{"ast":null,"code":"var _jsxFileName = \"/Users/spencerbackman/Development/mr-cash/client/src/Offer/UploadFiles.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { addFiles } from '../redux/Form';\n\nclass UploadFiles extends React.Component {\n  constructor() {\n    super();\n\n    this.showWidget = e => {\n      e.preventDefault();\n      let widget = window.cloudinary.createUploadWidget({\n        cloudName: 'duw9diprk',\n        uploadPreset: 'my_preset'\n      }, (error, result) => {\n        if (!error && result && result.event === \"success\") {\n          this.setState({\n            files: [...this.state.files, result.info.secure_url]\n          });\n        }\n      });\n      widget.open();\n    };\n\n    this.deleteFile = url => {\n      var array = this.state.files.filter(file => file !== url);\n      this.setState({\n        files: array\n      });\n      this.props.addFiles(array);\n    };\n\n    this.state = {\n      files: []\n    };\n  }\n\n  componentDidUpdate(prevState) {\n    if (this.state.files !== prevState.files) {\n      this.props.addFiles(this.state.files);\n    }\n  } //Cloudinary widget for file upload\n\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"upload-photos-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"upload-button\",\n      onClick: this.showWidget,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, \" Choose files \")), React.createElement(\"div\", {\n      className: \"thumbnail-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, this.state.files.map(file => React.createElement(\"div\", {\n      className: \"file-thumbnail-holder\",\n      key: file,\n      onClick: () => this.deleteFile(file),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: file,\n      className: \"file-thumbnail\",\n      alt: \"uploaded File\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }), React.createElement(\"i\", {\n      className: \"fas fa-minus-circle delete-thumbnail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default connect(state => state, {\n  addFiles\n})(UploadFiles);","map":{"version":3,"sources":["/Users/spencerbackman/Development/mr-cash/client/src/Offer/UploadFiles.js"],"names":["React","connect","addFiles","UploadFiles","Component","constructor","showWidget","e","preventDefault","widget","window","cloudinary","createUploadWidget","cloudName","uploadPreset","error","result","event","setState","files","state","info","secure_url","open","deleteFile","url","array","filter","file","props","componentDidUpdate","prevState","render","map"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,QAAT,QAAyB,eAAzB;;AAEA,MAAMC,WAAN,SAA0BH,KAAK,CAACI,SAAhC,CAA0C;AACtCC,EAAAA,WAAW,GAAG;AACV;;AADU,SAYdC,UAZc,GAYDC,CAAC,IAAI;AACdA,MAAAA,CAAC,CAACC,cAAF;AACA,UAAIC,MAAM,GAAGC,MAAM,CAACC,UAAP,CAAkBC,kBAAlB,CAAqC;AAAEC,QAAAA,SAAS,EAAE,WAAb;AAA0BC,QAAAA,YAAY,EAAE;AAAxC,OAArC,EACb,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACf,YAAI,CAACD,KAAD,IAAUC,MAAV,IAAoBA,MAAM,CAACC,KAAP,KAAiB,SAAzC,EAAoD;AAChD,eAAKC,QAAL,CAAc;AAAEC,YAAAA,KAAK,EAAE,CAAE,GAAG,KAAKC,KAAL,CAAWD,KAAhB,EAAuBH,MAAM,CAACK,IAAP,CAAYC,UAAnC;AAAT,WAAd;AACC;AACR,OALY,CAAb;AAMAb,MAAAA,MAAM,CAACc,IAAP;AACH,KArBa;;AAAA,SAwBdC,UAxBc,GAwBAC,GAAD,IAAS;AAClB,UAAIC,KAAK,GAAG,KAAKN,KAAL,CAAWD,KAAX,CAAiBQ,MAAjB,CAAwBC,IAAI,IAAIA,IAAI,KAAKH,GAAzC,CAAZ;AACA,WAAKP,QAAL,CAAc;AAAEC,QAAAA,KAAK,EAAEO;AAAT,OAAd;AACA,WAAKG,KAAL,CAAW3B,QAAX,CAAqBwB,KAArB;AACH,KA5Ba;;AAEV,SAAKN,KAAL,GAAa;AACTD,MAAAA,KAAK,EAAE;AADE,KAAb;AAGH;;AACDW,EAAAA,kBAAkB,CAACC,SAAD,EAAY;AAC1B,QAAG,KAAKX,KAAL,CAAWD,KAAX,KAAqBY,SAAS,CAACZ,KAAlC,EAAyC;AACrC,WAAKU,KAAL,CAAW3B,QAAX,CAAoB,KAAKkB,KAAL,CAAWD,KAA/B;AACH;AACJ,GAXqC,CAYtC;;;AAkBAa,EAAAA,MAAM,GAAG;AACL,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAQ,MAAA,SAAS,EAAC,eAAlB;AAAkC,MAAA,OAAO,EAAE,KAAK1B,UAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,CADJ,EAIQ;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKc,KAAL,CAAWD,KAAX,CAAiBc,GAAjB,CAAqBL,IAAI,IAC1B;AAAK,MAAA,SAAS,EAAC,uBAAf;AAAuC,MAAA,GAAG,EAAEA,IAA5C;AAAkD,MAAA,OAAO,EAAE,MAAM,KAAKJ,UAAL,CAAgBI,IAAhB,CAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,GAAG,EAAEA,IAAV;AAAgB,MAAA,SAAS,EAAC,gBAA1B;AAA2C,MAAA,GAAG,EAAC,eAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI;AAAG,MAAA,SAAS,EAAC,sCAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADC,CADL,CAJR,CADJ;AAgBH;;AA/CqC;;AAkD1C,eAAe3B,OAAO,CAACmB,KAAK,IAAIA,KAAV,EAAiB;AAAElB,EAAAA;AAAF,CAAjB,CAAP,CAAsCC,WAAtC,CAAf","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport { addFiles } from '../redux/Form';\n\nclass UploadFiles extends React.Component {\n    constructor() {\n        super()\n        this.state = {\n            files: []\n        }\n    }\n    componentDidUpdate(prevState) {\n        if(this.state.files !== prevState.files) {\n            this.props.addFiles(this.state.files)\n        }\n    }\n    //Cloudinary widget for file upload\n    showWidget = e => {\n        e.preventDefault();\n        let widget = window.cloudinary.createUploadWidget({ cloudName: 'duw9diprk', uploadPreset: 'my_preset'}, \n        (error, result) => {\n            if (!error && result && result.event === \"success\") { \n                this.setState({ files: [ ...this.state.files, result.info.secure_url ] })\n                }\n        })\n        widget.open()\n    }\n\n    //Deletes file from array in state if user clicks on the file\n    deleteFile = (url) => {\n        var array = this.state.files.filter(file => file !== url)\n        this.setState({ files: array })\n        this.props.addFiles( array )\n    }\n    render() {\n        return (\n            <div>\n                <div className=\"upload-photos-box\"> \n                    <button className=\"upload-button\" onClick={this.showWidget}> Choose files </button>\n                </div>\n                    <div className=\"thumbnail-container\">\n                        {this.state.files.map(file => (\n                        <div className=\"file-thumbnail-holder\" key={file} onClick={() => this.deleteFile(file)}> \n                            <img src={file} className=\"file-thumbnail\" alt=\"uploaded File\" /> \n                            <i className=\"fas fa-minus-circle delete-thumbnail\"></i> \n                            </div>)\n                            )\n                        }\n                </div> \n            </div>\n        )\n    }\n}\n\nexport default connect(state => state, { addFiles })(UploadFiles);"]},"metadata":{},"sourceType":"module"}