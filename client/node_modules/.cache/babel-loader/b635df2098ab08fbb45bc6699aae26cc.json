{"ast":null,"code":"var _jsxFileName = \"/Users/spencerbackman/Development/mr-cash/client/src/Offer/UploadFiles.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { addFiles } from '../redux/Form';\n\nclass UploadFiles extends React.Component {\n  constructor() {\n    super();\n\n    this.showWidget = e => {\n      e.preventDefault();\n      let widget = window.cloudinary.createUploadWidget({\n        cloudName: 'duw9diprk',\n        uploadPreset: 'my_preset'\n      }, (error, result) => {\n        if (!error && result && result.event === \"success\") {\n          this.props.addFiles(result.info.secure_url);\n        }\n      });\n      widget.open();\n    };\n\n    this.deleteFile = url => {\n      var array = this.props.form.files.filter(file => file !== url);\n      this.props.addFiles(array);\n    };\n  } //Cloudinary widget for file upload\n\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"upload-photos-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"upload-button\",\n      onClick: this.showWidget,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }, \" Choose files \")), React.createElement(\"div\", {\n      className: \"thumbnail-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, this.state.files.map(file => React.createElement(\"div\", {\n      className: \"file-thumbnail-holder\",\n      key: file,\n      onClick: () => this.deleteFile(file),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, \" \", React.createElement(\"img\", {\n      src: file,\n      className: \"file-thumbnail\",\n      alt: \"uploaded File\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }), \" \", React.createElement(\"i\", {\n      className: \"fas fa-minus-circle delete-thumbnail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }), \" \"))));\n  }\n\n}\n\nexport default connect(state => state, {\n  addFiles\n})(UploadFiles);","map":{"version":3,"sources":["/Users/spencerbackman/Development/mr-cash/client/src/Offer/UploadFiles.js"],"names":["React","connect","addFiles","UploadFiles","Component","constructor","showWidget","e","preventDefault","widget","window","cloudinary","createUploadWidget","cloudName","uploadPreset","error","result","event","props","info","secure_url","open","deleteFile","url","array","form","files","filter","file","render","state","map"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,QAAT,QAAyB,eAAzB;;AAEA,MAAMC,WAAN,SAA0BH,KAAK,CAACI,SAAhC,CAA0C;AACtCC,EAAAA,WAAW,GAAG;AACV;;AADU,SAIdC,UAJc,GAIDC,CAAC,IAAI;AACdA,MAAAA,CAAC,CAACC,cAAF;AACA,UAAIC,MAAM,GAAGC,MAAM,CAACC,UAAP,CAAkBC,kBAAlB,CAAqC;AAAEC,QAAAA,SAAS,EAAE,WAAb;AAA0BC,QAAAA,YAAY,EAAE;AAAxC,OAArC,EACb,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACf,YAAI,CAACD,KAAD,IAAUC,MAAV,IAAoBA,MAAM,CAACC,KAAP,KAAiB,SAAzC,EAAoD;AAChD,eAAKC,KAAL,CAAWhB,QAAX,CAAoBc,MAAM,CAACG,IAAP,CAAYC,UAAhC;AACC;AACR,OALY,CAAb;AAMAX,MAAAA,MAAM,CAACY,IAAP;AACH,KAba;;AAAA,SAgBdC,UAhBc,GAgBAC,GAAD,IAAS;AAClB,UAAIC,KAAK,GAAG,KAAKN,KAAL,CAAWO,IAAX,CAAgBC,KAAhB,CAAsBC,MAAtB,CAA6BC,IAAI,IAAIA,IAAI,KAAKL,GAA9C,CAAZ;AACA,WAAKL,KAAL,CAAWhB,QAAX,CAAqBsB,KAArB;AACH,KAnBa;AAEb,GAHqC,CAItC;;;AAiBAK,EAAAA,MAAM,GAAG;AACL,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAQ,MAAA,SAAS,EAAC,eAAlB;AAAkC,MAAA,OAAO,EAAE,KAAKvB,UAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,CADJ,EAIQ;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKwB,KAAL,CAAWJ,KAAX,CAAiBK,GAAjB,CAAqBH,IAAI,IAAI;AAAK,MAAA,SAAS,EAAC,uBAAf;AAAuC,MAAA,GAAG,EAAEA,IAA5C;AAAkD,MAAA,OAAO,EAAE,MAAM,KAAKN,UAAL,CAAgBM,IAAhB,CAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAyF;AAAK,MAAA,GAAG,EAAEA,IAAV;AAAgB,MAAA,SAAS,EAAC,gBAA1B;AAA2C,MAAA,GAAG,EAAC,eAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAzF,OAA2J;AAAG,MAAA,SAAS,EAAC,sCAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA3J,MAA7B,CADL,CAJR,CADJ;AAUH;;AAhCqC;;AAmC1C,eAAe3B,OAAO,CAAC6B,KAAK,IAAIA,KAAV,EAAiB;AAAE5B,EAAAA;AAAF,CAAjB,CAAP,CAAsCC,WAAtC,CAAf","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport { addFiles } from '../redux/Form';\n\nclass UploadFiles extends React.Component {\n    constructor() {\n        super()\n    }\n    //Cloudinary widget for file upload\n    showWidget = e => {\n        e.preventDefault();\n        let widget = window.cloudinary.createUploadWidget({ cloudName: 'duw9diprk', uploadPreset: 'my_preset'}, \n        (error, result) => {\n            if (!error && result && result.event === \"success\") { \n                this.props.addFiles(result.info.secure_url)\n                }\n        })\n        widget.open()\n    }\n\n    //Deletes file from array in state if user clicks on the file\n    deleteFile = (url) => {\n        var array = this.props.form.files.filter(file => file !== url)\n        this.props.addFiles( array )\n    }\n    render() {\n        return (\n            <div>\n                <div className=\"upload-photos-box\"> \n                    <button className=\"upload-button\" onClick={this.showWidget}> Choose files </button>\n                </div>\n                    <div className=\"thumbnail-container\">\n                        {this.state.files.map(file => <div className=\"file-thumbnail-holder\" key={file} onClick={() => this.deleteFile(file)}> <img src={file} className=\"file-thumbnail\" alt=\"uploaded File\" /> <i className=\"fas fa-minus-circle delete-thumbnail\"></i> </div>)}\n                </div> \n            </div>\n        )\n    }\n}\n\nexport default connect(state => state, { addFiles })(UploadFiles);"]},"metadata":{},"sourceType":"module"}