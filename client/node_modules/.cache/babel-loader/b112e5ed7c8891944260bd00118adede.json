{"ast":null,"code":"var _jsxFileName = \"/Users/spencerbackman/Development/mr-cash/client/src/Offer/UploadFiles.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { addFiles } from '../redux/Form';\n\nclass UploadFiles extends React.Component {\n  constructor() {\n    super();\n\n    this.showWidget = e => {\n      e.preventDefault();\n      let widget = window.cloudinary.createUploadWidget({\n        cloudName: 'duw9diprk',\n        uploadPreset: 'my_preset'\n      }, (error, result) => {\n        if (!error && result && result.event === \"success\") {\n          console.log(result.info.secure_url);\n          this.setState({\n            files: [result.info.secure_url]\n          }); // this.setState({ files: [ ...this.state.files, result.info.secure_url ] })\n        }\n      });\n      widget.open();\n    };\n\n    this.deleteFile = url => {\n      var array = this.state.files.filter(file => file !== url);\n      this.setState({\n        files: array\n      });\n    };\n\n    this.state = {\n      files: []\n    };\n  }\n\n  componentDidUpdate(prevState) {\n    if (this.state.files !== prevState.files) {\n      this.props.addFiles(this.state.files);\n    }\n  } //Cloudinary widget for file upload\n\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"upload-photos-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"upload-button\",\n      onClick: this.showWidget,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, \" Choose files \")), React.createElement(\"div\", {\n      className: \"thumbnail-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, this.state.files.map(file => React.createElement(\"div\", {\n      className: \"file-thumbnail-holder\",\n      key: file,\n      onClick: () => this.deleteFile(file),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: file,\n      className: \"file-thumbnail\",\n      alt: \"uploaded File\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }), React.createElement(\"i\", {\n      className: \"fas fa-minus-circle delete-thumbnail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default connect(state => state, {\n  addFiles\n})(UploadFiles);","map":{"version":3,"sources":["/Users/spencerbackman/Development/mr-cash/client/src/Offer/UploadFiles.js"],"names":["React","connect","addFiles","UploadFiles","Component","constructor","showWidget","e","preventDefault","widget","window","cloudinary","createUploadWidget","cloudName","uploadPreset","error","result","event","console","log","info","secure_url","setState","files","open","deleteFile","url","array","state","filter","file","componentDidUpdate","prevState","props","render","map"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,QAAT,QAAyB,eAAzB;;AAEA,MAAMC,WAAN,SAA0BH,KAAK,CAACI,SAAhC,CAA0C;AACtCC,EAAAA,WAAW,GAAG;AACV;;AADU,SAYdC,UAZc,GAYDC,CAAC,IAAI;AACdA,MAAAA,CAAC,CAACC,cAAF;AACA,UAAIC,MAAM,GAAGC,MAAM,CAACC,UAAP,CAAkBC,kBAAlB,CAAqC;AAAEC,QAAAA,SAAS,EAAE,WAAb;AAA0BC,QAAAA,YAAY,EAAE;AAAxC,OAArC,EACb,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACf,YAAI,CAACD,KAAD,IAAUC,MAAV,IAAoBA,MAAM,CAACC,KAAP,KAAiB,SAAzC,EAAoD;AAC/CC,UAAAA,OAAO,CAACC,GAAR,CAAYH,MAAM,CAACI,IAAP,CAAYC,UAAxB;AACA,eAAKC,QAAL,CAAc;AACVC,YAAAA,KAAK,EAAE,CAACP,MAAM,CAACI,IAAP,CAAYC,UAAb;AADG,WAAd,EAF+C,CAKhD;AACC;AACR,OATY,CAAb;AAUAZ,MAAAA,MAAM,CAACe,IAAP;AACH,KAzBa;;AAAA,SA4BdC,UA5Bc,GA4BAC,GAAD,IAAS;AAClB,UAAIC,KAAK,GAAG,KAAKC,KAAL,CAAWL,KAAX,CAAiBM,MAAjB,CAAwBC,IAAI,IAAIA,IAAI,KAAKJ,GAAzC,CAAZ;AACA,WAAKJ,QAAL,CAAc;AAAEC,QAAAA,KAAK,EAAEI;AAAT,OAAd;AACH,KA/Ba;;AAEV,SAAKC,KAAL,GAAa;AACTL,MAAAA,KAAK,EAAE;AADE,KAAb;AAGH;;AACDQ,EAAAA,kBAAkB,CAACC,SAAD,EAAY;AAC1B,QAAG,KAAKJ,KAAL,CAAWL,KAAX,KAAqBS,SAAS,CAACT,KAAlC,EAAyC;AACrC,WAAKU,KAAL,CAAW/B,QAAX,CAAoB,KAAK0B,KAAL,CAAWL,KAA/B;AACH;AACJ,GAXqC,CAYtC;;;AAqBAW,EAAAA,MAAM,GAAG;AACL,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAQ,MAAA,SAAS,EAAC,eAAlB;AAAkC,MAAA,OAAO,EAAE,KAAK5B,UAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,CADJ,EAIQ;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKsB,KAAL,CAAWL,KAAX,CAAiBY,GAAjB,CAAqBL,IAAI,IAC1B;AAAK,MAAA,SAAS,EAAC,uBAAf;AAAuC,MAAA,GAAG,EAAEA,IAA5C;AAAkD,MAAA,OAAO,EAAE,MAAM,KAAKL,UAAL,CAAgBK,IAAhB,CAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,GAAG,EAAEA,IAAV;AAAgB,MAAA,SAAS,EAAC,gBAA1B;AAA2C,MAAA,GAAG,EAAC,eAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI;AAAG,MAAA,SAAS,EAAC,sCAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADC,CADL,CAJR,CADJ;AAgBH;;AAlDqC;;AAqD1C,eAAe7B,OAAO,CAAC2B,KAAK,IAAIA,KAAV,EAAiB;AAAE1B,EAAAA;AAAF,CAAjB,CAAP,CAAsCC,WAAtC,CAAf","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport { addFiles } from '../redux/Form';\n\nclass UploadFiles extends React.Component {\n    constructor() {\n        super()\n        this.state = {\n            files: []\n        }\n    }\n    componentDidUpdate(prevState) {\n        if(this.state.files !== prevState.files) {\n            this.props.addFiles(this.state.files)\n        }\n    }\n    //Cloudinary widget for file upload\n    showWidget = e => {\n        e.preventDefault();\n        let widget = window.cloudinary.createUploadWidget({ cloudName: 'duw9diprk', uploadPreset: 'my_preset'}, \n        (error, result) => {\n            if (!error && result && result.event === \"success\") {\n                 console.log(result.info.secure_url)\n                 this.setState({\n                     files: [result.info.secure_url]\n                 })\n                // this.setState({ files: [ ...this.state.files, result.info.secure_url ] })\n                }\n        })\n        widget.open()\n    }\n\n    //Deletes file from array in state if user clicks on the file\n    deleteFile = (url) => {\n        var array = this.state.files.filter(file => file !== url)\n        this.setState({ files: array })\n    }\n    render() {\n        return (\n            <div>\n                <div className=\"upload-photos-box\"> \n                    <button className=\"upload-button\" onClick={this.showWidget}> Choose files </button>\n                </div>\n                    <div className=\"thumbnail-container\">\n                        {this.state.files.map(file => (\n                        <div className=\"file-thumbnail-holder\" key={file} onClick={() => this.deleteFile(file)}> \n                            <img src={file} className=\"file-thumbnail\" alt=\"uploaded File\" /> \n                            <i className=\"fas fa-minus-circle delete-thumbnail\"></i> \n                            </div>)\n                            )\n                        }\n                </div> \n            </div>\n        )\n    }\n}\n\nexport default connect(state => state, { addFiles })(UploadFiles);"]},"metadata":{},"sourceType":"module"}